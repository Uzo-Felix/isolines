<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1600 1000" width="1600" height="1000">
  <defs>
    <style>
      .title { font-size: 28px; font-weight: bold; fill: #00d4ff; }
      .subtitle { font-size: 16px; fill: #95e1d3; }
      .step-label { font-size: 14px; font-weight: bold; fill: #ffa500; }
      .step-text { font-size: 12px; fill: #ccc; }
      .tile-outline { stroke: #666; stroke-width: 2; fill: none; }
      .tile-current { stroke: #ff6b6b; stroke-width: 3; fill: rgba(255,107,107,0.05); }
      .tile-neighbor { stroke: #4ecdc4; stroke-width: 2; fill: rgba(78,205,196,0.05); }
      .boundary-strip { stroke: #ffa500; stroke-width: 2; fill: rgba(255,165,0,0.2); }
      .overlap-region { stroke: #95e1d3; stroke-width: 2; fill: rgba(149,225,211,0.1); stroke-dasharray: 5,5; }
      .conrec-segment { stroke: #00d4ff; stroke-width: 2; }
      .merged-segment { stroke: #00ff00; stroke-width: 3; }
      .arrow { stroke: #888; stroke-width: 2; fill: none; marker-end: url(#arrowhead); }
      .arrow-filled { stroke: #00d4ff; stroke-width: 2; fill: none; marker-end: url(#arrowhead-blue); }
      
      @keyframes fadeIn { from { opacity: 0; } to { opacity: 1; } }
      @keyframes slideIn { from { transform: translateX(-50px); opacity: 0; } to { transform: translateX(0); opacity: 1; } }
      @keyframes pulse { 0%, 100% { stroke-width: 2; } 50% { stroke-width: 4; } }
      @keyframes expand { 0% { r: 3; } 50% { r: 6; } 100% { r: 3; } }
      @keyframes dash { from { stroke-dashoffset: 10; } to { stroke-dashoffset: 0; } }
      
      .animated-tile { animation: fadeIn 0.8s ease-out; }
      .animated-strip { animation: slideIn 0.6s ease-out; }
      .animated-segment { animation: fadeIn 0.8s ease-out forwards; opacity: 0; }
      .animated-point { animation: expand 1s ease-in-out infinite; }
      .animated-arrow { animation: dash 1s linear infinite; stroke-dasharray: 5,5; }
    </style>
    
    <marker id="arrowhead" markerWidth="10" markerHeight="10" refX="9" refY="3" orient="auto">
      <polygon points="0 0, 10 3, 0 6" fill="#888"/>
    </marker>
    <marker id="arrowhead-blue" markerWidth="10" markerHeight="10" refX="9" refY="3" orient="auto">
      <polygon points="0 0, 10 3, 0 6" fill="#00d4ff"/>
    </marker>
  </defs>

  <rect width="1600" height="1000" fill="#0f0f1e"/>

  <!-- Title -->
  <text x="800" y="35" text-anchor="middle" class="title">Strip-Based Tiled Isoline Generation</text>
  <text x="800" y="60" text-anchor="middle" class="subtitle">Complete Algorithm Flow with Animations</text>

  <!-- ==================== STEP 1: TILE GRID ==================== -->
  <g id="step1" transform="translate(50, 100)">
    <rect x="0" y="0" width="280" height="220" fill="#1a1a2e" stroke="#333" stroke-width="1"/>
    <text x="140" y="25" text-anchor="middle" class="step-label">Step 1: Tile Grid Input</text>
    
    <!-- 3x3 grid of tiles -->
    <g class="animated-tile" style="animation-delay: 0s">
      <rect x="10" y="40" width="70" height="70" class="tile-neighbor"/>
      <text x="45" y="85" text-anchor="middle" class="step-text" font-size="10">TL</text>
    </g>
    
    <g class="animated-tile" style="animation-delay: 0.1s">
      <rect x="95" y="40" width="70" height="70" class="tile-neighbor"/>
      <text x="130" y="85" text-anchor="middle" class="step-text" font-size="10">T</text>
    </g>
    
    <g class="animated-tile" style="animation-delay: 0.2s">
      <rect x="180" y="40" width="70" height="70" class="tile-neighbor"/>
      <text x="215" y="85" text-anchor="middle" class="step-text" font-size="10">TR</text>
    </g>
    
    <g class="animated-tile" style="animation-delay: 0.1s">
      <rect x="10" y="125" width="70" height="70" class="tile-current"/>
      <text x="45" y="170" text-anchor="middle" class="step-text" font-size="10">C (current)</text>
    </g>
    
    <g class="animated-tile" style="animation-delay: 0.2s">
      <rect x="95" y="125" width="70" height="70" class="tile-current"/>
      <text x="130" y="165" text-anchor="middle" class="step-text" font-size="9">64×64</text>
    </g>
    
    <g class="animated-tile" style="animation-delay: 0.3s">
      <rect x="180" y="125" width="70" height="70" class="tile-neighbor"/>
      <text x="215" y="170" text-anchor="middle" class="step-text" font-size="10">R</text>
    </g>
    
    <text x="140" y="210" text-anchor="middle" class="step-text">Process tile (i,j)</text>
  </g>

  <!-- ==================== STEP 2: EXTRACT BOUNDARY STRIPS ==================== -->
  <g id="step2" transform="translate(370, 100)">
    <rect x="0" y="0" width="280" height="220" fill="#1a1a2e" stroke="#333" stroke-width="1"/>
    <text x="140" y="25" text-anchor="middle" class="step-label">Step 2: Extract Strips</text>
    
    <!-- Single tile with strips highlighted -->
    <rect x="40" y="50" width="120" height="120" class="tile-current"/>
    
    <!-- Top strip -->
    <g class="animated-strip" style="animation-delay: 0.5s">
      <rect x="40" y="50" width="120" height="12" class="boundary-strip"/>
      <text x="100" y="70" text-anchor="middle" class="step-text" font-size="9">top</text>
    </g>
    
    <!-- Bottom strip -->
    <g class="animated-strip" style="animation-delay: 0.6s">
      <rect x="40" y="158" width="120" height="12" class="boundary-strip"/>
      <text x="100" y="175" text-anchor="middle" class="step-text" font-size="9">bottom</text>
    </g>
    
    <!-- Left strip -->
    <g class="animated-strip" style="animation-delay: 0.5s">
      <rect x="40" y="50" width="12" height="120" class="boundary-strip"/>
      <text x="35" y="115" text-anchor="middle" class="step-text" font-size="9">L</text>
    </g>
    
    <!-- Right strip -->
    <g class="animated-strip" style="animation-delay: 0.6s">
      <rect x="148" y="50" width="12" height="120" class="boundary-strip"/>
      <text x="165" y="115" text-anchor="middle" class="step-text" font-size="9">R</text>
    </g>
    
    <text x="140" y="200" text-anchor="middle" class="step-text">Store in dataStrips</text>
    <text x="140" y="215" text-anchor="middle" class="step-text">for neighbor access</text>
  </g>

  <!-- ==================== STEP 3: 9-TILE ASSEMBLY ==================== -->
  <g id="step3" transform="translate(690, 100)">
    <rect x="0" y="0" width="280" height="220" fill="#1a1a2e" stroke="#333" stroke-width="1"/>
    <text x="140" y="25" text-anchor="middle" class="step-label">Step 3: 9-Tile Assembly</text>
    
    <!-- 3x3 grid with overlap -->
    <g class="animated-tile" style="animation-delay: 0.8s">
      <rect x="10" y="45" width="50" height="50" class="tile-neighbor" opacity="0.7"/>
    </g>
    <g class="animated-tile" style="animation-delay: 0.85s">
      <rect x="60" y="45" width="50" height="50" class="tile-neighbor" opacity="0.7"/>
    </g>
    <g class="animated-tile" style="animation-delay: 0.9s">
      <rect x="110" y="45" width="50" height="50" class="tile-neighbor" opacity="0.7"/>
    </g>
    
    <g class="animated-tile" style="animation-delay: 0.85s">
      <rect x="10" y="95" width="50" height="50" class="tile-current"/>
    </g>
    <g class="animated-tile" style="animation-delay: 0.9s">
      <rect x="60" y="95" width="50" height="50" class="tile-current"/>
    </g>
    <g class="animated-tile" style="animation-delay: 0.95s">
      <rect x="110" y="95" width="50" height="50" class="tile-neighbor" opacity="0.7"/>
    </g>
    
    <g class="animated-tile" style="animation-delay: 0.9s">
      <rect x="10" y="145" width="50" height="50" class="tile-neighbor" opacity="0.7"/>
    </g>
    <g class="animated-tile" style="animation-delay: 0.95s">
      <rect x="60" y="145" width="50" height="50" class="tile-neighbor" opacity="0.7"/>
    </g>
    <g class="animated-tile" style="animation-delay: 1.0s">
      <rect x="110" y="145" width="50" height="50" class="tile-neighbor" opacity="0.7"/>
    </g>
    
    <!-- Overlap zone -->
    <g class="animated-strip" style="animation-delay: 1.1s">
      <rect x="8" y="43" width="164" height="164" class="overlap-region"/>
    </g>
    
    <text x="140" y="200" text-anchor="middle" class="step-text">Retrieve neighbor data</text>
    <text x="140" y="215" text-anchor="middle" class="step-text">Build expanded grid</text>
  </g>

  <!-- ==================== STEP 4: EXPANSION WITH OVERLAP ==================== -->
  <g id="step4" transform="translate(1010, 100)">
    <rect x="0" y="0" width="280" height="220" fill="#1a1a2e" stroke="#333" stroke-width="1"/>
    <text x="140" y="25" text-anchor="middle" class="step-label">Step 4: Expand Tile</text>
    
    <!-- Original tile -->
    <g class="animated-tile" style="animation-delay: 1.3s">
      <rect x="30" y="65" width="100" height="100" class="tile-current"/>
      <text x="80" y="115" text-anchor="middle" class="step-text" font-size="10">64×64</text>
    </g>
    
    <!-- Expansion arrows -->
    <g class="animated-arrow" style="animation-delay: 1.5s">
      <path d="M 20 65 L 10 65" class="arrow-filled"/>
      <path d="M 140 55 L 150 55" class="arrow-filled"/>
    </g>
    <g class="animated-arrow" style="animation-delay: 1.5s">
      <path d="M 30 55 L 30 40" class="arrow-filled"/>
      <path d="M 130 175 L 130 190" class="arrow-filled"/>
    </g>
    
    <!-- Expanded tile -->
    <g class="animated-strip" style="animation-delay: 1.6s">
      <rect x="10" y="45" width="140" height="140" class="overlap-region"/>
      <text x="80" y="115" text-anchor="middle" class="step-text" font-size="9">68×68</text>
      <text x="80" y="135" text-anchor="middle" class="step-text" font-size="8">(+2px overlap)</text>
    </g>
    
    <text x="140" y="200" text-anchor="middle" class="step-text">Store expansion</text>
    <text x="140" y="215" text-anchor="middle" class="step-text">zone metadata</text>
  </g>

  <!-- ==================== STEP 5: CONREC PROCESSING ==================== -->
  <g id="step5" transform="translate(50, 370)">
    <rect x="0" y="0" width="280" height="220" fill="#1a1a2e" stroke="#333" stroke-width="1"/>
    <text x="140" y="25" text-anchor="middle" class="step-label">Step 5: CONREC Generation</text>
    
    <!-- Grid with contour lines -->
    <rect x="30" y="45" width="120" height="120" class="tile-current"/>
    
    <!-- Sample contour segments -->
    <g class="animated-segment" style="animation-delay: 1.8s">
      <line x1="45" y1="75" x2="95" y2="75" class="conrec-segment"/>
    </g>
    <g class="animated-segment" style="animation-delay: 1.9s">
      <line x1="55" y1="95" x2="105" y2="95" class="conrec-segment"/>
    </g>
    <g class="animated-segment" style="animation-delay: 2.0s">
      <line x1="65" y1="115" x2="115" y2="115" class="conrec-segment"/>
    </g>
    <g class="animated-segment" style="animation-delay: 2.1s">
      <line x1="70" y1="135" x2="95" y2="135" class="conrec-segment"/>
    </g>
    
    <!-- Points on segments -->
    <g class="animated-segment" style="animation-delay: 1.8s">
      <circle cx="45" cy="75" r="3" class="animated-point" fill="#95e1d3"/>
      <circle cx="95" cy="75" r="3" class="animated-point" fill="#95e1d3"/>
    </g>
    
    <text x="140" y="200" text-anchor="middle" class="step-text">Process 4 triangles</text>
    <text x="140" y="215" text-anchor="middle" class="step-text">per grid cell</text>
  </g>

  <!-- ==================== STEP 6: ASSEMBLE LINESTRINGS ==================== -->
  <g id="step6" transform="translate(370, 370)">
    <rect x="0" y="0" width="280" height="220" fill="#1a1a2e" stroke="#333" stroke-width="1"/>
    <text x="140" y="25" text-anchor="middle" class="step-label">Step 6: Build LineStrings</text>
    
    <!-- Grid -->
    <rect x="30" y="50" width="120" height="110" class="tile-current"/>
    
    <!-- Connected linestring -->
    <g class="animated-segment" style="animation-delay: 2.3s">
      <path d="M 45 80 Q 70 70, 90 85 Q 105 95, 95 115" class="conrec-segment" fill="none" stroke-width="3" stroke="#00d4ff"/>
    </g>
    
    <!-- Endpoints -->
    <g class="animated-segment" style="animation-delay: 2.3s">
      <circle cx="45" cy="80" r="5" class="animated-point" fill="#95e1d3"/>
      <circle cx="95" cy="115" r="5" class="animated-point" fill="#95e1d3"/>
    </g>
    
    <!-- Labels -->
    <text x="25" y="85" class="step-text" font-size="10">start</text>
    <text x="105" y="120" class="step-text" font-size="10">end</text>
    
    <text x="140" y="200" text-anchor="middle" class="step-text">Connect segments</text>
    <text x="140" y="215" text-anchor="middle" class="step-text">per contour level</text>
  </g>

  <!-- ==================== STEP 7: COORDINATE TRANSFORM ==================== -->
  <g id="step7" transform="translate(690, 370)">
    <rect x="0" y="0" width="280" height="220" fill="#1a1a2e" stroke="#333" stroke-width="1"/>
    <text x="140" y="25" text-anchor="middle" class="step-label">Step 7: Transform Coords</text>
    
    <!-- Local coords -->
    <g class="animated-segment" style="animation-delay: 2.5s">
      <rect x="20" y="50" width="100" height="80" class="tile-current" opacity="0.5"/>
      <text x="70" y="100" text-anchor="middle" class="step-text" font-size="11">Local Space</text>
      <text x="70" y="125" text-anchor="middle" class="step-text" font-size="9">(expanded coords)</text>
    </g>
    
    <!-- Arrow transformation -->
    <g class="animated-arrow" style="animation-delay: 2.6s">
      <path d="M 140 85 L 180 85" class="arrow-filled"/>
      <text x="160" y="75" text-anchor="middle" class="step-text" font-size="9">MAP</text>
    </g>
    
    <!-- Global coords -->
    <g class="animated-segment" style="animation-delay: 2.7s">
      <rect x="190" y="50" width="70" height="80" class="tile-neighbor" opacity="0.5"/>
      <text x="225" y="100" text-anchor="middle" class="step-text" font-size="10">Global Space</text>
    </g>
    
    <text x="140" y="200" text-anchor="middle" class="step-text">Account for overlap</text>
    <text x="140" y="215" text-anchor="middle" class="step-text">offset and tile position</text>
  </g>

  <!-- ==================== STEP 8: STORE &amp; DETECT OVERLAPS ==================== -->
  <g id="step8" transform="translate(1010, 370)">
    <rect x="0" y="0" width="280" height="220" fill="#1a1a2e" stroke="#333" stroke-width="1"/>
    <text x="140" y="25" text-anchor="middle" class="step-label">Step 8: Overlap Detection</text>
    
    <!-- Current tile with linestrings -->
    <rect x="30" y="50" width="70" height="70" class="tile-current"/>
    
    <!-- Neighbor tile -->
    <rect x="110" y="50" width="70" height="70" class="tile-neighbor"/>
    
    <!-- Overlapping segment -->
    <g class="animated-segment" style="animation-delay: 2.9s">
      <line x1="100" y1="70" x2="110" y2="70" class="merged-segment" stroke-width="3"/>
      <circle cx="100" cy="70" r="4" class="animated-point" fill="#00ff00"/>
      <circle cx="110" cy="70" r="4" class="animated-point" fill="#00ff00"/>
    </g>
    
    <!-- Other linestrings -->
    <g class="animated-segment" style="animation-delay: 2.8s">
      <path d="M 45 60 Q 65 50, 75 75" class="conrec-segment" fill="none"/>
    </g>
    <g class="animated-segment" style="animation-delay: 2.85s">
      <path d="M 120 60 Q 140 50, 150 75" class="conrec-segment" fill="none"/>
    </g>
    
    <!-- Comparison arrow -->
    <g class="animated-arrow" style="animation-delay: 2.95s">
      <path d="M 55 130 Q 70 120, 85 130" class="arrow-filled"/>
      <text x="70" y="145" text-anchor="middle" class="step-text" font-size="9">Compare</text>
    </g>
    
    <text x="140" y="190" text-anchor="middle" class="step-text">Find matching</text>
    <text x="140" y="205" text-anchor="middle" class="step-text">segments at boundary</text>
  </g>

  <!-- ==================== STEP 9: MERGE OVERLAPPING ==================== -->
  <g id="step9" transform="translate(50, 640)">
    <rect x="0" y="0" width="280" height="220" fill="#1a1a2e" stroke="#333" stroke-width="1"/>
    <text x="140" y="25" text-anchor="middle" class="step-label">Step 9: Merge Segments</text>
    
    <!-- Before merge -->
    <text x="60" y="50" class="step-text" font-size="11" text-anchor="middle">Before</text>
    <g class="animated-segment" style="animation-delay: 3.2s">
      <path d="M 30 75 L 70 75" class="conrec-segment"/>
      <circle cx="30" cy="75" r="4" fill="#4ecdc4"/>
      <circle cx="70" cy="75" r="4" fill="#4ecdc4"/>
    </g>
    <g class="animated-segment" style="animation-delay: 3.25s">
      <path d="M 70 75 L 110 75" class="conrec-segment"/>
      <circle cx="110" cy="75" r="4" fill="#ff6b6b"/>
    </g>
    
    <!-- Arrow -->
    <g class="animated-arrow" style="animation-delay: 3.3s">
      <path d="M 70 110 L 70 125" class="arrow-filled"/>
    </g>
    
    <!-- After merge -->
    <text x="60" y="150" class="step-text" font-size="11" text-anchor="middle">After</text>
    <g class="animated-segment" style="animation-delay: 3.4s">
      <path d="M 30 165 L 110 165" class="merged-segment" stroke-width="3"/>
      <circle cx="30" cy="165" r="4" fill="#95e1d3"/>
      <circle cx="110" cy="165" r="4" fill="#95e1d3"/>
    </g>
    
    <text x="140" y="210" text-anchor="middle" class="step-text">T1 + T2 → merged</text>
  </g>

  <!-- ==================== STEP 10: CLOSURE CHECK ==================== -->
  <g id="step10" transform="translate(370, 640)">
    <rect x="0" y="0" width="280" height="220" fill="#1a1a2e" stroke="#333" stroke-width="1"/>
    <text x="140" y="25" text-anchor="middle" class="step-label">Step 10: Check Closure</text>
    
    <!-- Closed path -->
    <g class="animated-segment" style="animation-delay: 3.5s">
      <path d="M 50 75 Q 80 55, 100 75 Q 80 95, 50 75" class="merged-segment" stroke-width="2"/>
      <text x="75" y="85" text-anchor="middle" class="step-text" font-size="9">Closed</text>
    </g>
    
    <!-- Open path -->
    <g class="animated-segment" style="animation-delay: 3.6s">
      <path d="M 130 60 Q 160 80, 180 100" class="conrec-segment"/>
      <circle cx="130" cy="60" r="4" fill="#4ecdc4"/>
      <circle cx="180" cy="100" r="4" fill="#ff6b6b"/>
      <text x="155" y="85" text-anchor="middle" class="step-text" font-size="8">Open</text>
    </g>
    
    <!-- Conversion arrows -->
    <g class="animated-arrow" style="animation-delay: 3.7s">
      <path d="M 75 115 L 75 140" class="arrow-filled"/>
      <text x="95" y="130" class="step-text" font-size="8">→Polygon</text>
    </g>
    <g class="animated-arrow" style="animation-delay: 3.7s">
      <path d="M 155 115 L 155 140" class="arrow-filled"/>
      <text x="170" y="130" class="step-text" font-size="8">→LineString</text>
    </g>
    
    <!-- Polygon output -->
    <g class="animated-segment" style="animation-delay: 3.8s">
      <polygon points="50,160 95,160 75,200" class="tile-current" opacity="0.6"/>
    </g>
    
    <!-- LineString output -->
    <g class="animated-segment" style="animation-delay: 3.9s">
      <path d="M 130 155 Q 160 175, 180 195" class="conrec-segment" stroke-width="2"/>
    </g>
    
    <text x="140" y="215" text-anchor="middle" class="step-text">Convert geometry types</text>
  </g>

  <!-- ==================== STEP 11: ENDPOINT SNAPPING ==================== -->
  <g id="step11" transform="translate(690, 640)">
    <rect x="0" y="0" width="280" height="220" fill="#1a1a2e" stroke="#333" stroke-width="1"/>
    <text x="140" y="25" text-anchor="middle" class="step-label">Step 11: Snap Endpoints</text>
    
    <!-- Multiple linestrings with close endpoints -->
    <g class="animated-segment" style="animation-delay: 4.0s">
      <path d="M 40 70 L 70 85" class="conrec-segment"/>
      <circle cx="70" cy="85" r="5" fill="#4ecdc4" opacity="0.6"/>
    </g>
    <g class="animated-segment" style="animation-delay: 4.05s">
      <path d="M 75 85 L 110 95" class="conrec-segment"/>
      <circle cx="75" cy="85" r="5" fill="#ff6b6b" opacity="0.6"/>
    </g>
    
    <!-- Snap arrows -->
    <g class="animated-arrow" style="animation-delay: 4.1s">
      <path d="M 72 85 L 73 85" class="arrow-filled"/>
    </g>
    
    <!-- After snap -->
    <g class="animated-segment" style="animation-delay: 4.15s">
      <path d="M 40 140 L 92 155" class="merged-segment" stroke-width="2"/>
      <circle cx="92" cy="155" r="5" fill="#95e1d3"/>
    </g>
    <g class="animated-segment" style="animation-delay: 4.2s">
      <path d="M 92 155 L 110 175" class="merged-segment" stroke-width="2"/>
      <circle cx="92" cy="155" r="5" fill="#95e1d3"/>
    </g>
    
    <text x="140" y="210" text-anchor="middle" class="step-text">Merge nearby endpoints</text>
    <text x="140" y="225" text-anchor="middle" class="step-text">improve continuity</text>
  </g>

  <!-- ==================== STEP 12: FINAL OUTPUT ==================== -->
  <g id="step12" transform="translate(1010, 640)">
    <rect x="0" y="0" width="280" height="220" fill="#1a1a2e" stroke="#333" stroke-width="1"/>
    <text x="140" y="25" text-anchor="middle" class="step-label">Step 12: GeoJSON Output</text>
    
    <!-- Sample features -->
    <g class="animated-segment" style="animation-delay: 4.3s">
      <polygon points="40,80 70,60 90,80 70,100" class="tile-current" fill="#ff6b6b" opacity="0.6"/>
      <text x="70" y="90" text-anchor="middle" class="step-text" font-size="8">Polygon</text>
    </g>
    
    <g class="animated-segment" style="animation-delay: 4.4s">
      <path d="M 110 75 Q 140 65, 160 85" class="merged-segment" stroke-width="2"/>
      <text x="140" y="60" text-anchor="middle" class="step-text" font-size="8">LineString</text>
    </g>
    
    <!-- Code snippet -->
    <text x="70" y="130" font-family="monospace" class="step-text" font-size="8">GeoJSON</text>
    <text x="75" y="145" font-family="monospace" class="step-text" font-size="7">Feature</text>
    <text x="75" y="158" font-family="monospace" class="step-text" font-size="7">Geometry</text>
    <text x="75" y="171" font-family="monospace" class="step-text" font-size="7">Properties</text>
    
    <text x="140" y="210" text-anchor="middle" class="step-text">FeatureCollection with</text>
    <text x="140" y="225" text-anchor="middle" class="step-text">metadata and geometry</text>
  </g>

  <!-- ==================== LEGEND ==================== -->
  <g id="legend" transform="translate(50, 900)">
    <text x="0" y="0" class="step-label" font-size="12">Legend:</text>
    
    <rect x="0" y="10" width="12" height="12" class="tile-current"/>
    <text x="20" y="18" class="step-text" font-size="11">Current/Processed Tile</text>
    
    <rect x="180" y="10" width="12" height="12" class="tile-neighbor"/>
    <text x="200" y="18" class="step-text" font-size="11">Neighbor Tile</text>
    
    <line x1="380" y1="16" x2="395" y2="16" class="conrec-segment"/>
    <text x="410" y="18" class="step-text" font-size="11">Generated Segment</text>
    
    <line x1="650" y1="16" x2="665" y2="16" class="merged-segment"/>
    <text x="680" y="18" class="step-text" font-size="11">Merged Segment</text>
    
    <rect x="900" y="10" width="12" height="12" class="overlap-region"/>
    <text x="920" y="18" class="step-text" font-size="11">Overlap Region</text>
  </g>

  <!-- Progress indicator -->
  <g id="progress" transform="translate(50, 970)">
    <text x="0" y="0" class="step-text" font-size="12">Animation Timeline: 12 Steps | Full cycle: ~4.5 seconds | Loop with 1-second pause</text>
  </g>
</svg>
